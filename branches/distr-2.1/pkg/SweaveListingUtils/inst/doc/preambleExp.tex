%------------------------------------------------------------------------------%
%Preparations for Sweave and Listings
%------------------------------------------------------------------------------%
%
\RequirePackage{color}
\definecolor{Rcolor}{rgb}{0, 0.5, 0.5}
\definecolor{Rbcolor}{rgb}{0, 0.6, 0.6}
\definecolor{Rout}{rgb}{0.461, 0.039, 0.102}
\definecolor{Rcomment}{rgb}{0.101, 0.043, 0.432}
%------------------------------------------------------------------------------%
\lstdefinelanguage{Rd}[common]{TeX}%
  {moretexcs={acronym,alias,arguments,author,bold,cite,%
          code,command,concept,cr,deqn,describe,%
          description,details,dfn,docType,dots,%
          dontrun,dontshow,donttest,dQuote,%
          email,emph,enc,encoding,enumerate,env,eqn,%
          examples,file,format,item,itemize,kbd,keyword,%
          keyword,ldots,link,linkS4class,method,name,note,%
          option,pkg,preformatted,R,references,S3method,%
          S4method,samp,section,seealso,source,sp,special,%
          sQuote,strong,synopsis,tab,tabular,testonly,%
          title,url,usage,value,var},
   sensitive=true,%
   morecomment=[l]\%% 2008 Peter Ruckdeschel
}[keywords,comments]%%
%------------------------------------------------------------------------------%
\lstdefinestyle{Rstyle}{fancyvrb=true,escapechar=.,language=R,%
                        basicstyle={\color{Rcolor}\small},%
                        keywordstyle={\bf\color{Rcolor}},%
                        commentstyle={\color{Rcomment}\ttfamily\itshape},%
                        literate={<-}{{$\leftarrow$}}2{<<-}{{$\twoheadleftarrow$}}2,%
                        alsoother={$},%
                        alsoletter={.<-},%
                        otherkeywords={!,!=,~,$,*,\&,\%/\%,\%*\%,\%\%,<-,<<-,/}}%
\lstdefinestyle{Rdstyle}{fancyvrb=true,language=Rd,keywordstyle={\bf},%
                         basicstyle={\color{black}\footnotesize},%
                         commentstyle={\ttfamily\itshape},%
                         alsolanguage=R}%
%------------------------------------------------------------------------------%
\global\def\Rlstset{\lstset{style=Rstyle}}%
\global\def\Rdlstset{\lstset{style=Rdstyle}}%
\Rlstset
%------------------------------------------------------------------------------%
\DefineVerbatimEnvironment{Sinput}{Verbatim}%
  {formatcom=\color{Rcolor}\lstset{fancyvrb=true,escapechar='}}
\DefineVerbatimEnvironment{Soutput}{Verbatim}%
  {formatcom=\color{Rout}\small\lstset{fancyvrb=false}}
\DefineVerbatimEnvironment{Scode}{Verbatim}%
  {fontshape=sl,formatcom=\color{Rcolor}\lstset{fancyvrb=true}}
%------------------------------------------------------------------------------%
\ifthenelse{\boolean{Sweave@gin}}{\setkeys{Gin}{width=0.6\textwidth}}{}%
%------------------------------------------------------------------------------%
\let\code\lstinline
\newcommand{\Code}[1]{{\tt\color{Rcolor} #1}}
\newcommand{\file}[1]{{\tt #1}}
\newcommand{\pkg}[1]{{\tt "#1"}}
\newcommand{\pkgversion}{{\tt 2.0.3}}
%------------------------------------------------------------------------------%
% --------------------------
% Registration of package SweaveListingUtils
% --------------------------
% --------------------------
\lstset{morekeywords={[2]changeKeywordstyles,copySourceFromRForge,%
getSweaveListingOption,lstinputSourceFromRForge,lstset,%
lstsetLanguage,lstsetR,lstsetRd,readPkgVersion,readSourceFromRForge,%
setToBeDefinedPkgs,SweaveListingMASK,SweaveListingoptions,%
SweaveListingOptions,SweaveListingPreparations,%
taglist%
},%
keywordstyle={[2]{\bf}}%
}
%
%

% --------------------------
% Registration of package startupmsg
% --------------------------
\lstset{morekeywords={[3]buildStartupMessage,infoShow,mySMHandler,%
mystartupMessage,NEWS,onlytypeStartupMessages,pointertoNEWS,%
readURLInformation,readVersionInformation,startupMessage,%
StartupMessage,startupPackage,startupType,suppressStartupMessages%
},%
keywordstyle={[3]{\bf}}%
}
%
%

% --------------------------
% Registration of package tools
% --------------------------
\lstset{morekeywords={[4]Adobe_glyphs,buildVignettes,charset_to_Unicode,%
checkDocFiles,checkDocStyle,checkFF,checkMD5sums,checkNEWS,%
checkReplaceFuns,checkS3methods,checkTnF,checkVignettes,codoc,%
codocClasses,codocData,delimMatch,encoded_text_to_latex,%

... snip ...

vignetteDepends,write_PACKAGES,xgettext,xgettext2pot,xngettext%
},%
keywordstyle={[4]{\bf}}%
}
%
%

% --------------------------
% Registration of package stats
% --------------------------
\lstset{morekeywords={[5]acf,acf2AR,add.scope,addmargins,%
aggregate.data.frame,aggregate.default,aggregate.ts,AIC,%
anova.glm,anova.glmlist,anova.lm,anova.lmlist,anova.mlm,%
anovalist.lm,ansari.test,ar,ar.burg,ar.mle,ar.ols,ar.yw,%
arima,arima.sim,arima0,arima0.diag,ARMAacf,%
ARMAtoMA,as.dendrogram,as.dist,as.formula,as.hclust,%

... snip ...

weighted.mean,weighted.residuals,wilcox.test,window<-,%
write.ftable,xtabs%
},%
keywordstyle={[5]{\bf}}%
}
%
%

% --------------------------
% Registration of package graphics
% --------------------------
\lstset{morekeywords={[6]assocplot,Axis,axis.Date,axis.POSIXct,%
axTicks,barplot.default,boxplot.default,boxplot.matrix,cdplot,%
clip,close.screen,co.intervals,contour.default,dotchart,%
erase.screen,filled.contour,fourfoldplot,grconvertX,grconvertY,%
hist.default,image.default,layout.show,lines.default,pairs.default,%
panel.smooth,pie,plot.default,plot.design,plot.new,plot.window,%
plot.xy,points.default,spineplot,split.screen,strheight,%
stripchart,text.default,xspline%
},%
keywordstyle={[6]{\bf}}%
}
%
%

% --------------------------
% Registration of package grDevices
% --------------------------
\lstset{morekeywords={[7]as.graphicsAnnot,bitmap,bmp,boxplot.stats,%
bringToTop,check.options,CIDFont,cm.colors,col2rgb,colorConverter,%
colorRamp,colorRampPalette,colorspaces,contourLines,convertColor,%
dev.control,dev.copy,dev.copy2eps,dev.copy2pdf,dev.cur,%

... snip ...

windowsFont,windowsFonts,xfig,xy.coords,xyTable,%
xyz.coords%
},%
keywordstyle={[7]{\bf}}%
}
%
%

% --------------------------
% Registration of package utils
% --------------------------
\lstset{morekeywords={[8]alarm,argsAnywhere,as.person,as.personList,%
as.relistable,as.roman,assignInNamespace,available.packages,browseEnv,%
browseURL,browseVignettes,bug.report,capture.output,checkCRAN,%
choose.dir,choose.files,chooseCRANmirror,citation,citEntry,citFooter,%
citHeader,close.socket,combn,compareVersion,contrib.url,%
count.fields,CRAN.packages,data.entry,de.ncols,de.restore,%
de.setup,DLL.version,download.file,download.packages,dump.frames,%

... snip ...

write.socket,write.table,writeClipboard,wsbrowser,zip.file.extract,%
zip.unpack%
},%
keywordstyle={[8]{\bf}}%
}
%
%

% --------------------------
% Registration of package datasets
% --------------------------
\lstset{morekeywords={[9]ability.cov,airmiles,AirPassengers,airquality,%
anscombe,attenu,attitude,austres,beaver1,beaver2,%
BJsales,BJsales.lead,BOD,cars,ChickWeight,%
chickwts,co2,CO2,crimtab,discoveries,%

... snip ...

uspop,VADeaths,volcano,warpbreaks,women,%
WorldPhones,WWWusage%
},%
keywordstyle={[9]{\bf}}%
}
%
%

% --------------------------
% Registration of package methods
% --------------------------
\lstset{morekeywords={[10]addNextMethod,allGenerics,allNames,Arith,%
as<-,asMethodDefinition,assignClassDef,assignMethodsMetaData,%
balanceMethodsList,body<-,cacheGenericsMetaData,cacheMetaData,%
cacheMethod,callGeneric,callNextMethod,canCoerce,cbind2,%
checkSlotAssignment,classMetaName,coerce,%

... snip ...

Summary,superClassDepth,testVirtual,traceOff,traceOn,%
tryNew,trySilent,unRematchDefinition,validObject,validSlotNames%
},%
keywordstyle={[10]{\bf}}%
}
%
%

% --------------------------
% Registration of package base
% --------------------------
\lstset{morekeywords={[11]addNA,addTaskCallback,agrep,all.equal,%
all.equal.character,all.equal.default,all.equal.factor,all.equal.formula,%
all.equal.language,all.equal.list,all.equal.numeric,all.equal.POSIXct,%
all.equal.raw,all.names,all.vars,as.array,as.array.default,as.call,%
as.character,as.character.condition,%

... snip ...

xtfrm.default,xtfrm.factor,xtfrm.numeric_version,xtfrm.POSIXct,xtfrm.POSIXlt,%
xtfrm.Surv%
},%
keywordstyle={[11]{\bf}}%
}
%
%

%------------------------------------------------------------------------------%
%
%%
\lstset%
{keywordstyle={[2]\bf\color{blue}}
}%